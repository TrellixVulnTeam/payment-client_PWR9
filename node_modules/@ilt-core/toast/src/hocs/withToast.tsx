import React from 'react';
import { ToastContainer, ToastContainerProps } from 'react-toastify';

import styles from '../styles/styles.module.scss'
import { ToastConfig } from '../types';

const configDefault: ToastContainerProps = {
  hideProgressBar: true,
  closeButton: false,
  icon: false,
  containerId: styles.toast,
  className: styles.i_toast,
  toastClassName: styles.i_toast_item
}

const withToast =
  (WrapperComponent: React.ComponentType<any>, config?: ToastConfig) => (props: any) => {
    const c = {...configDefault, ...config};

    return (
      <>
        <WrapperComponent {...props} />
        <ToastContainer {...c}/>
      </>
    );
  };

export default withToast;
